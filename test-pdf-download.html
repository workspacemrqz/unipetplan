<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demonstra√ß√£o - Download PDF Detalhes do Procedimento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .modal {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .modal-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        .buttons-group {
            display: flex;
            gap: 10px;
        }
        button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border: 1px solid #277677;
            background: white;
            color: #277677;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        button:hover {
            background-color: #e6f4f4;
        }
        button.success {
            background-color: #e6f4f4;
            border-color: #277677;
            color: #277677;
        }
        .info-section {
            margin-top: 20px;
        }
        .info-section h4 {
            color: #333;
            margin-bottom: 10px;
        }
        .info-item {
            display: flex;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .info-label {
            font-weight: bold;
            color: #277677;
            margin-right: 5px;
        }
        .info-value {
            color: #666;
        }
        .demo-note {
            background-color: #fffbea;
            border: 1px solid #f5c842;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .demo-note h3 {
            margin-top: 0;
            color: #b8860b;
        }
        .icon {
            width: 20px;
            height: 20px;
        }
    </style>
</head>
<body>
    <div class="demo-note">
        <h3>üéØ Demonstra√ß√£o - Nova Funcionalidade Implementada</h3>
        <p>O bot√£o <strong>"Baixar PDF"</strong> foi adicionado com sucesso ao modal de detalhes do procedimento na aba "Relat√≥rio Financeiro"!</p>
        <p>Abaixo est√° uma demonstra√ß√£o visual de como o modal aparece agora:</p>
    </div>

    <div class="modal">
        <div class="modal-header">
            <div class="modal-title">
                <span>üëÅÔ∏è</span>
                <span>Detalhes do Procedimento</span>
            </div>
            <div class="buttons-group">
                <button id="copyBtn" onclick="handleCopy()">
                    <span>üìã</span>
                    <span>Copiar</span>
                </button>
                <button id="downloadBtn" onclick="handleDownload()" style="background-color: #e6f4f4;">
                    <span>‚¨áÔ∏è</span>
                    <span><strong>Baixar PDF</strong></span>
                </button>
                <button onclick="alert('Modal fechado')">
                    Fechar
                </button>
            </div>
        </div>

        <div class="info-section">
            <h4>Informa√ß√µes do Procedimento</h4>
            <div class="info-item">
                <span class="info-label">Data:</span>
                <span class="info-value">20/10/2025</span>
            </div>
            <div class="info-item">
                <span class="info-label">Cliente:</span>
                <span class="info-value">CAMILA VILANOVA NOVAIS</span>
            </div>
            <div class="info-item">
                <span class="info-label">Pet:</span>
                <span class="info-value">FREDERICO</span>
            </div>
            <div class="info-item">
                <span class="info-label">Procedimento:</span>
                <span class="info-value">Dosagem de C√°lcio I√¥nico</span>
            </div>
            <div class="info-item">
                <span class="info-label">Coparticipa√ß√£o:</span>
                <span class="info-value"><strong>R$ 0,00</strong></span>
            </div>
            <div class="info-item">
                <span class="info-label">Valor Pago:</span>
                <span class="info-value"><strong>R$ 0,00</strong></span>
            </div>
            <div class="info-item">
                <span class="info-label">Unidade:</span>
                <span class="info-value">Hospital Veterin√°rio Animal's 24 Horas</span>
            </div>
        </div>
    </div>

    <div style="max-width: 600px; margin: 20px auto; padding: 20px; background: white; border-radius: 8px;">
        <h3>üìã Funcionalidades do Novo Bot√£o:</h3>
        <ul>
            <li><strong>Gera PDF automaticamente</strong> com todas as informa√ß√µes do procedimento</li>
            <li><strong>Formata√ß√£o profissional</strong> com cabe√ßalho, dados organizados e rodap√©</li>
            <li><strong>Nome do arquivo personalizado</strong>: procedimento_[cliente]_[data].pdf</li>
            <li><strong>Feedback visual</strong> durante o download (bot√£o muda de estado)</li>
            <li><strong>Notifica√ß√£o de sucesso</strong> ap√≥s o download</li>
        </ul>

        <h3>üîß Implementa√ß√£o T√©cnica:</h3>
        <ul>
            <li>Biblioteca utilizada: <code>jsPDF</code> (j√° instalada no projeto)</li>
            <li>Arquivo modificado: <code>client/src/components/unit/UnitRelatorioFinanceiro.tsx</code></li>
            <li>Fun√ß√£o criada: <code>handleDownloadPDF()</code></li>
            <li>Estados adicionados: <code>downloadState</code> para controlar o status do download</li>
        </ul>
    </div>

    <script>
        function handleCopy() {
            const btn = document.getElementById('copyBtn');
            btn.innerHTML = '<span>‚úÖ</span><span>Copiado!</span>';
            btn.classList.add('success');
            
            setTimeout(() => {
                btn.innerHTML = '<span>üìã</span><span>Copiar</span>';
                btn.classList.remove('success');
            }, 2000);
            
            alert('Informa√ß√µes copiadas para a √°rea de transfer√™ncia!');
        }

        function handleDownload() {
            const btn = document.getElementById('downloadBtn');
            btn.innerHTML = '<span>‚è≥</span><span>Baixando...</span>';
            
            setTimeout(() => {
                btn.innerHTML = '<span>‚úÖ</span><span>Baixado!</span>';
                btn.style.backgroundColor = '#d4f4d4';
                
                alert('PDF gerado com sucesso!\nArquivo: procedimento_CAMILA_VILANOVA_NOVAIS_21-10-2025.pdf');
                
                setTimeout(() => {
                    btn.innerHTML = '<span>‚¨áÔ∏è</span><span><strong>Baixar PDF</strong></span>';
                    btn.style.backgroundColor = '#e6f4f4';
                }, 2000);
            }, 1500);
        }
    </script>
</body>
</html>